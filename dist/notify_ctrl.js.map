{"version":3,"sources":["../src/notify_ctrl.js"],"names":["PanelCtrl","_","moment","$","angular","Notify","NotifyCtrl","$scope","$injector","defaults","panel","panelDefaults","events","on","onInitEditMode","bind","onRefresh","onRender","console","log","addEditorTab","container","panelContainer","render","renderNotification","renderingCompleted","time","format","note","notify","$timeout","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,kB,kBAAAA,S;;AACDC,U;;AACAC,e;;AACAC,U;;AACAC,gB;;AACKC,e;;;;;;;;;;;;;;;;;;;;;+BAKCC,U;;;AAET,gCAAYC,MAAZ,EAAmBC,SAAnB,EAA8B;AAAA;;AAAA,mIAC3BD,MAD2B,EACpBC,SADoB;;AAEjC,qBAAKD,MAAL,GAAcA,MAAd;;AAEAN,iBAAEQ,QAAF,CAAW,MAAKC,KAAhB,EAAuB,MAAKC,aAA5B;AACA,qBAAKC,MAAL,CAAYC,EAAZ,CAAe,gBAAf,EAAiC,MAAKC,cAAL,CAAoBC,IAApB,OAAjC;AACA,qBAAKH,MAAL,CAAYC,EAAZ,CAAe,SAAf,EAA0B,MAAKG,SAAL,CAAeD,IAAf,OAA1B;AACA,qBAAKH,MAAL,CAAYC,EAAZ,CAAe,QAAf,EAAyB,MAAKI,QAAL,CAAcF,IAAd,OAAzB;AACA;AACA;AACAG,uBAAQC,GAAR,CAAY,wCAAZ;AACA;AAXiC;AAY7B;;;;gDAEgB;AACpB,uBAAKC,YAAL,CAAkB,SAAlB,EAA4B,gDAA5B,EAA6E,CAA7E;AACA;AACC;;;4CAEYC,S,EAAW;AACvB,uBAAKC,cAAL,GAAsBD,SAAtB;AACA;;;2CAEc;AACf,uBAAKE,MAAL;AACI;;;0CAEU;AACd;;AACA,uBAAKC,kBAAL;AACA,uBAAKC,kBAAL;AACI;;;oDAGoB;AAAA;;AACxB,uBAAKC,IAAL,GAAYxB,SAASyB,MAAT,CAAgB,UAAhB,CAAZ;AACA,uBAAKC,IAAL,GAAYzB,EAAE0B,MAAF,CAAU,SAAV,EAAqB,8BAArB,EAAoD,KAAKH,IAAzD,CAAZ;AACA,uBAAKI,QAAL,CAAc,YAAM;AAAE,4BAAKN,kBAAL;AAA2B,mBAAjD,EAAkD,IAAlD;AACI;;;;WAxC2BxB,S;;;;AA2ChCM,oBAAWyB,WAAX,GAAyB,aAAzB","file":"notify_ctrl.js","sourcesContent":["import {PanelCtrl} from 'app/plugins/sdk';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\nimport angular from 'angular';\r\nimport * as Notify from './external/notify.min';\r\nimport './external/notify';\r\n\r\n\r\n\r\nexport class NotifyCtrl extends PanelCtrl {\r\n    \r\n    constructor($scope,$injector) {\r\n\tsuper($scope,$injector);\r\n\tthis.$scope = $scope;\r\n\r\n\t_.defaults(this.panel, this.panelDefaults);\r\n\tthis.events.on('init-edit-mode', this.onInitEditMode.bind(this));\r\n\tthis.events.on('refresh', this.onRefresh.bind(this));\r\n\tthis.events.on('render', this.onRender.bind(this));\r\n\t//this.events.on('data-received',this.onDataReceived.bind(this));\r\n\t//this.events.on('data-error',this.onDataError.bind(this));\r\n\tconsole.log(\"Notification Panel constructor done...\");\r\n\t//this.renderNotification();\r\n    }\r\n\r\n    onInitEditMode() {\r\n\tthis.addEditorTab('Options','public/plugins/grafana-clock-panel/editor.html',2);\r\n\t//this.editorTabIndex = 1;\r\n\t}\r\n\r\n\tsetContainer(container) {\r\n\t\tthis.panelContainer = container;\r\n\t}\r\n\t\r\n    onRefresh() {\r\n\tthis.render();\r\n    }\r\n\r\n    onRender() {\r\n\t'======> Come Back Here. This wont work <======'\r\n\tthis.renderNotification();\r\n\tthis.renderingCompleted();\r\n    }\r\n    \r\n    \r\n    renderNotification() {\r\n\tthis.time = moment().format('hh:mm:ss');\r\n\tthis.note = $.notify( 'success', 'Settings successfully saved.',this.time );\r\n\tthis.$timeout(() => { this.renderNotification();},1000);\r\n    }\r\n} \r\n\r\nNotifyCtrl.templateUrl = 'module.html';\r\n"]}